import{c as vt,u as xt,a as yt,_ as $t}from"./TheWrapper.0df23e9d.js";import{_ as St}from"./client-only.2fc2bbfb.js";import{_ as p,o as c,c as g,d as r,t as y,F as Be,m as Ee,p as A,b as N,a as wt,r as n,g as e,e as O,u as V,w as $,n as E,h as v,S as De,q as bt,G as It,z as Gt,f as u,T as kt,v as x,k as Z,D as We}from"./entry.ca07d34d.js";import{u as Ct,b as Oe,_ as Tt,a as Mt}from"./useSvg.c78e7568.js";import{_ as Pt}from"./TheDescription.c967d36a.js";import{t as D}from"./index.9c0c6351.js";const At={class:"shooting-title vt h3"},Nt={__name:"ShootingTitle",props:{name1:String,name2:String},setup(t){return(a,_)=>(c(),g("div",At,[r("div",null,y(t.name1),1),r("div",null,y(t.name2),1)]))}},Dt=p(Nt,[["__scopeId","data-v-3f8defec"]]);const Wt=t=>(A("data-v-f372fbd7"),t=t(),N(),t),Bt={class:"shooting-descr vt"},Et={class:"shooting-descr__item"},Ot={class:"shooting-descr__item-prof"},Vt=Wt(()=>r("span",{class:"shooting-descr__item-slash"},"-",-1)),Lt={class:"shooting-descr__item-name ttu"},qt={__name:"ShootingDescr",props:{descr:Array},setup(t){return(a,_)=>(c(),g("div",Bt,[(c(!0),g(Be,null,Ee(t.descr,s=>(c(),g("div",Et,[r("span",Ot,y(s==null?void 0:s.title),1),Vt,r("span",Lt,y(s==null?void 0:s.description),1)]))),256))]))}},Ft=p(qt,[["__scopeId","data-v-f372fbd7"]]);const j=t=>(A("data-v-fe52f060"),t=t(),N(),t),Rt={ref:"shootingCount",class:"shooting-count h5"},Ht={class:"shooting-count__current"},Ut=j(()=>r("span",{class:"shooting-count__slash"},"/",-1)),zt={class:"shooting-count__total"},Jt=j(()=>r("span",{class:"shooting-count__total_mob"},"(",-1)),Kt=j(()=>r("span",{class:"shooting-count__total_mob"},")",-1)),Qt={__name:"ShootingCount",props:{currentNumber:Number,totalImages:Number},setup(t){return(a,_)=>(c(),g("div",Rt,[r("span",Ht,y(t.currentNumber),1),Ut,r("span",zt,[Jt,wt(" "+y(t.totalImages)+" ",1),Kt])],512))}},Xt=p(Qt,[["__scopeId","data-v-fe52f060"]]);const Yt={__name:"ShootingSeeAll",setup(t){const a=n("");return D(()=>{e.matchMedia().add({isMaxBG:"(max-width: 1439px)",isMinBG:"(min-width: 1440px)"},s=>{let{isMaxBG:f,isMinBG:w}=s.conditions;a.value.textContent=w?"(see all)":"(ALL)"})}),(_,s)=>(c(),g("div",{ref_key:"shootingSeeAll",ref:a,class:"shooting-see-all h5 alfaLink"},null,512))}},Zt=p(Yt,[["__scopeId","data-v-18fd5eb5"]]);const jt={},eo={class:"shooting-more vt"};function to(t,a){return c(),g("div",eo,[O(t.$slots,"default",{},void 0,!0)])}const oo=p(jt,[["render",to],["__scopeId","data-v-b7475263"]]);const no=t=>(A("data-v-3b7d5e4b"),t=t(),N(),t),so=no(()=>r("path",{d:"M1 347.822C11.4142 191.777 111.711 343.38 149.94 386.866C-61.9309 326.35 144.163 65.1156 310.208 415.915C280.327 367.334 268.881 358.84 295.912 466C-67.1785 18.609 -17.5186 81.9812 344 398.826C56.0578 377.399 216.963 460.509 35.8866 1",stroke:"#2828BD"},null,-1)),ao=[so],lo={__name:"ShootingSignature",setup(t){const a=V(),_=n(null),{animate:s}=Ct();return D(()=>{e.set(_.value,{opacity:0})}),$(()=>a.transitionComplete,f=>{f&&s(_.value)}),$(()=>a.isPreloaderVisible,()=>{s(_.value)}),(f,w)=>(c(),g("svg",{ref_key:"shootingSignature",ref:_,class:"shooting-signature",viewBox:"0 0 346 467",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ao,512))}},io=p(lo,[["__scopeId","data-v-3b7d5e4b"]]);const ee=t=>(A("data-v-d91297b8"),t=t(),N(),t),ro=["id"],_o={class:"shooting-gallery__img-wrap"},co=ee(()=>r("div",{class:"shooting-gallery__img-bg"},null,-1)),uo=["src"],go=ee(()=>r("div",{class:"shooting-gallery__item-bg"},null,-1)),ho={class:"shooting-gallery__text"},mo={class:"shooting-gallery__text-wrapper"},po=ee(()=>r("div",{class:"shooting-gallery__text-bg"},null,-1)),fo={__name:"ShootingGalleryItem",props:{src:String,text:String,index:Number},setup(t){const{animate:a}=Oe(),_=V(),s=n(null);return D(()=>{e.set(s.value,{opacity:0})}),$(()=>_.transitionComplete,f=>{f&&a(s.value)}),$(()=>_.isPreloaderVisible,()=>{a(s.value)}),(f,w)=>(c(),g("div",{ref_key:"shootingGalleryItem",ref:s,class:"shooting-gallery__item",id:`shootingGalleryItem-${t.index}`},[r("div",_o,[co,r("img",{src:t.src,class:"shooting-gallery__img",alt:"gallery image"},null,8,uo)]),go,r("div",ho,[r("div",mo,y(t.text),1),po])],8,ro))}},vo=p(fo,[["__scopeId","data-v-d91297b8"]]);const xo=t=>(A("data-v-7d818646"),t=t(),N(),t),yo=xo(()=>r("div",{class:"shooting-gallery-next__text h5"},"(next)",-1)),$o={class:"shooting-gallery-next__name h3"},So={__name:"ShootingGalleryNext",props:{text:String,href:String},setup(t){const{animate:a}=Oe(),_=V(),s=n(null);return D(()=>{e.set(s.value.$el,{opacity:0})}),$(()=>_.transitionComplete,f=>{f&&a(s.value.$el)}),$(()=>_.isPreloaderVisible,()=>{a(s.value.$el)}),(f,w)=>{const L=vt;return c(),E(L,{ref_key:"shootingGalleryNext",ref:s,to:t.href,class:"shooting-gallery-next alfaLink"},{default:v(()=>[yo,r("div",$o,y(t.text),1)]),_:1},8,["to"])}}},wo=p(So,[["__scopeId","data-v-7d818646"]]);const bo={},Io={ref:"shootingGalleryWrapper",class:"shooting-gallery__wrapper"};function Go(t,a){return c(),g("div",Io,[O(t.$slots,"default",{},void 0,!0)],512)}const ko=p(bo,[["render",Go],["__scopeId","data-v-fc30ec0b"]]);const Co={},To={ref:"shootingGallery",class:"shooting-gallery"};function Mo(t,a){return c(),g("div",To,[O(t.$slots,"default",{},void 0,!0)],512)}const Po=p(Co,[["render",Mo],["__scopeId","data-v-33ddf7da"]]);const Ao={},No={class:"shooting-view"};function Do(t,a){return c(),g("div",No,[O(t.$slots,"default",{},void 0,!0)])}const Wo=p(Ao,[["render",Do],["__scopeId","data-v-b02eefaa"]]),Ro={__name:"shooting",async setup(t){var me,pe,fe,ve,xe,ye,$e,Se,we,be,Ie,Ge;let a,_;e.registerPlugin(De);const s=V();$(()=>s.transitionComplete,o=>{o&&e.matchMedia().add("(min-width: 1024px)",()=>{ie(),re(),_e(),ce()})}),$(()=>s.isPreloaderVisible,()=>{e.matchMedia().add("(min-width: 1024px)",()=>{ie(),re(),_e(),ce()})});const w=bt().public.baseUrl,{slug:L}=It().params,{data:Ve}=([a,_]=Gt(()=>xt("categories",()=>$fetch("/api/categories"))),a=await a,_(),a),b=(pe=(me=Ve.value)==null?void 0:me.data)==null?void 0:pe.data[s.category],q=(ve=(fe=b==null?void 0:b.attributes)==null?void 0:fe.shootings)==null?void 0:ve.data,te=n(null),h=q.find((o,l)=>{var i;return te.value=l,((i=o==null?void 0:o.attributes)==null?void 0:i.slug)===L}),Le=(xe=b==null?void 0:b.attributes)==null?void 0:xe.name.toLowerCase(),qe=(ye=h==null?void 0:h.attributes)==null?void 0:ye.name1,Fe=($e=h==null?void 0:h.attributes)==null?void 0:$e.name2,Re=(we=(Se=h==null?void 0:h.attributes)==null?void 0:Se.info_block)==null?void 0:we.add_info,He=(Ie=(be=h==null?void 0:h.attributes)==null?void 0:be.photos)==null?void 0:Ie.data,Ue=(te.value+1)%q.length,W=q[Ue],ze=(Ge=W==null?void 0:W.attributes)==null?void 0:Ge.name2,Je=n(.5),Ke=n(50),Qe=n(7),oe=n(250),Xe=n(10.4),ne=n(1.5),F=n(-24.5),se=n("vw"),B=n(null),C=n(null),ae=n(null),Ye=n(null),R=n(null),H=n(null),I=n(null),m=n([]),U=n(null),z=n(null),J=n(null),le=n([]),K=n(1),Q=n(0),T=n(!1),M=n([]);let X;D(()=>{e.matchMedia().add("(max-width: 1439px)",()=>{se.value="px",F.value=32})});function Ze(){return m.value.length}function ie(){let o=0;m.value.forEach((l,i)=>{const d=l.$el.querySelector(".shooting-gallery__img");M.value.push(o+=d.clientWidth+Ke.value)})}function je(){return M.value[M.value.length-1]+window.innerWidth*1.1}function re(){m.value.forEach((o,l)=>{l>0?e.set(o.$el,{left:window.innerWidth/1.9+M.value[l-1]}):e.set(o.$el,{left:window.innerWidth/1.9})})}function _e(){e.set(I.value.$el,{width:je()})}function ce(){m.value.forEach((o,l)=>{l&&e.set(o.$el,{scale:Je.value})}),X=e.to(I.value.$el,{ease:"none",x:document.documentElement.clientWidth-I.value.$el.clientWidth,scrollTrigger:{trigger:ae.value.$el,pin:!0,scrub:.1,end:`+=${Qe.value}00%`,onUpdate:o=>{Q.value=o.scroll(),Q.value>oe.value?ge():he()}}}),m.value.forEach((o,l)=>{const i=l+1;e.to(o.$el,{scale:1,ease:"none",scrollTrigger:{containerAnimation:X,trigger:o.$el,id:"item",scrub:!0,start:"left right",end:"center center",onEnter:()=>K.value=i,onEnterBack:()=>K.value=i}})})}function et(){T.value=!0,Z.get().paused(!0),ge(),ot(),m.value.forEach((o,l)=>{le.value[l]=e.getProperty(o.$el,"scale")}),m.value.forEach(o=>{e.to(o.$el,{left:`calc(
					${-e.getProperty(I.value.$el,"x")}px +
					${e.utils.random(10,85)}vw)`,top:e.utils.random(10,85)+"vh",height:`${Xe.value}vw`,scale:1,duration:ne.value,ease:"Power2.easeOut"})})}function ue(o){T.value=!1,m.value.forEach(i=>We.get(i.$el).kill());let l=e.timeline({ease:"none",onComplete:()=>{T.value||setTimeout(()=>{Z.get().paused(!1),o&&o()},0)}});Q.value<oe.value&&he(),nt(),de(),m.value.forEach((i,d)=>{l.to(i.$el,{x:0,y:0,left:d>0?window.innerWidth/1.9+M.value[d-1]:window.innerWidth/1.9,top:0,height:"100%",scale:le.value[d],duration:ne.value,ease:"Power2.easeIn"},0)})}function tt(){m.value.forEach(o=>{We.create(o.$el,{edgeResistance:.65,bounds:I.value.$el,onPress(){e.set(this.target.querySelector(".shooting-gallery__item-bg"),{opacity:1}),e.set(this.target.querySelector(".shooting-gallery__img-bg"),{opacity:1}),e.set(this.target.querySelector(".shooting-gallery__text-bg"),{opacity:1}),e.set(this.target.querySelector(".shooting-gallery__text-wrapper"),{color:"white"})},onDragEnd:()=>{de()}})})}function de(){e.set(".shooting-gallery__item-bg",{opacity:0}),e.set(".shooting-gallery__img-bg",{opacity:0}),e.set(".shooting-gallery__text-bg",{opacity:0}),e.set(".shooting-gallery__text-wrapper",{color:"black"})}function ot(){e.to(z.value.$el,{autoAlpha:0}),e.to(J.value.$el,{opacity:0,x:-100}),e.to(".shooting-gallery__text",{opacity:1}),U.value.$el.textContent="(back)"}function nt(){let o=e.matchMedia();e.to(z.value.$el,{autoAlpha:1}),e.to(J.value.$el,{opacity:1,x:0}),e.to(".shooting-gallery__text",{opacity:0}),o.add({isMaxBG:"(max-width: 1439px)",isMinBG:"(min-width: 1440px)"},l=>{let{isMaxBG:i,isMinBG:d}=l.conditions;U.value.textContent=d?"(see all)":"(ALL)"})}function ge(){let o=e.matchMedia();o.add("(max-width: 1023px)",()=>{e.to(B.value.$el,{bottom:"32px",ease:"Power2.easeOut"}),e.to(C.value.$el,{bottom:"60px",ease:"Power2.easeOut"})}),o.add("(max-width: 767px)",()=>{e.to(C.value.$el,{bottom:"44px",ease:"Power2.easeOut"})}),e.to(B.value.$el,{scale:.5,ease:"Power2.easeOut"}),e.to(R.value.$el,{autoAlpha:0,duration:.25,ease:"Power2.easeOut"}),o.add("(min-width: 1440px)",()=>{e.to(H.value.$el,{x:F.value+se.value,ease:"Power2.easeOut"})}),o.add("(max-width: 1439px)",()=>{e.to(C.value.$el,{left:F.value,ease:"Power2.easeOut"})})}function he(){let o=e.matchMedia();e.to(B.value.$el,{scale:1,ease:"Power2.easeOut"}),e.to(R.value.$el,{autoAlpha:1,duration:.25,ease:"Power2.easeOut"}),o.add("(min-width: 1440px)",()=>{e.to(H.value.$el,{x:0,ease:"Power2.easeOut"})}),o.add("(max-width: 1439px)",()=>{e.to(C.value.$el,{left:"25%",ease:"Power2.easeOut"})})}function st(){T.value?ue():(et(),tt())}function at(o){T.value&&ue(function(){let i=lt(".shooting-gallery__item","center center",X);Z.get().scrollTo(i(`#shootingGalleryItem-${o}`),{smooth:1})})}function lt(o,l,i){let d=e.utils.toArray(o).map(G=>De.create({trigger:G,start:l||"top top",refreshPriority:-10,containerAnimation:i})),P=i&&i.scrollTrigger;return G=>{let Y=e.utils.toArray(G)[0],S=d.length;for(;S--&&d[S].trigger!==Y;);return S<0?console.warn("target not found",G):i?P.start+d[S].start/i.duration()*(P.end-P.start):d[S].start}}return(o,l)=>{const i=$t,d=St,P=Dt,G=Tt,Y=Ft,S=Pt,it=Xt,rt=Zt,_t=oo,ct=Mt,ut=io,dt=vo,gt=wo,ht=ko,mt=Po,pt=Wo,ft=yt;return c(),E(ft,{class:"wrapper-inner"},{default:v(()=>[u(d,null,{default:v(()=>[(c(),E(kt,{to:"#viewport"},[u(i)]))]),_:1}),u(pt,{ref_key:"shootingView",ref:ae},{default:v(()=>[u(G,{ref_key:"theTitle",ref:B,class:"--difference"},{default:v(()=>[u(P,{name1:x(qe),name2:x(Fe),ref_key:"shootingTitle",ref:Ye},null,8,["name1","name2"])]),_:1},512),u(S,{class:"--difference"},{default:v(()=>[u(Y,{descr:x(Re),ref_key:"shootingDescr",ref:R},null,8,["descr"])]),_:1}),u(ct,{ref_key:"theActions",ref:C,class:"--difference"},{default:v(()=>[u(_t,{ref_key:"shootingMore",ref:H},{default:v(()=>[u(it,{ref_key:"shootingCount",ref:J,"current-number":x(K),"total-images":Ze()},null,8,["current-number","total-images"]),u(rt,{ref_key:"shootingSeeAll",ref:U,onClick:st},null,512)]),_:1},512)]),_:1},512),u(mt,{ref:"shootingGallery"},{default:v(()=>[u(ut,{ref:"shootingSignature"},null,512),u(ht,{ref_key:"shootingGalleryWrapper",ref:I},{default:v(()=>{var ke,Ce;return[(c(!0),g(Be,null,Ee(x(He),(k,Te)=>{var Me,Pe,Ae,Ne;return c(),E(dt,{ref_for:!0,ref_key:"shootingGalleryItem",ref:m,src:x(w)+((Ae=(Pe=(Me=k==null?void 0:k.attributes)==null?void 0:Me.formats)==null?void 0:Pe.large)==null?void 0:Ae.url),text:(Ne=k==null?void 0:k.attributes)==null?void 0:Ne.name,index:Te,onClick:Bo=>at(Te)},null,8,["src","text","index","onClick"])}),256)),u(gt,{text:x(ze),href:`/${x(Le)}/${(Ce=(ke=x(W))==null?void 0:ke.attributes)==null?void 0:Ce.slug}`,ref_key:"shootingNext",ref:z},null,8,["text","href"])]}),_:1},512)]),_:1},512)]),_:1},512)]),_:1})}}};export{Ro as default};
